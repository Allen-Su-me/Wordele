<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<script src="d3.js"></script>
</head>
<body>
<svg></svg>
<script>



//localStorage.clear()
//console.log(window.innerWidth);980
//console.log(window.innerHeight);1880
var go=1
var width=window.innerWidth;
var height=window.innerHeight-100;
if(window.innerWidth<window.innerHeight){
}
var svg = d3.select("svg").attr("width",width).attr("height",height+100)

var Time;
if(!localStorage.getItem("Time")){
	localStorage.setItem("Time",3);
}
Time=parseInt(localStorage.getItem("Time"));




var language=localStorage.getItem("language")

var back =svg.append("rect").attr("width",width).attr("height",height+100).attr("fill","black")

var title=svg.append("text")
			.text("Wordele")
			.attr("x",width*0.5-185)
			.attr("y",height*0.075)
			.attr("fill","white")
			.style("font-size",100)
			.style("font-weight",750)
			.on("click",()=>
			{
				let a=svg.append("text");
				let b=svg.append("text");
				let d=svg.append("text");
				let c=svg.append("rect")
				.attr("x",0)
				.attr("y",0)
				.attr("width",width)
				.attr("height",height+100)
				.attr("fill", "white")
				.attr("fill-opacity",0.9)
				.on("click",()=>{a.remove();
								 b.remove();
								 c.remove();
								 d.remove();})
				if(language!=="TW"){

					a=svg.append("text").text("Want to leave a review for Wordele?")
					.attr("x",width/2-400)
					.attr("y",(height+100)/2-200)
					.attr("fill","black")
					.style("font-size",50)
					.style("font-weight",650);

					b=svg.append("text").text("Google Play Store")
					.attr("x",width*0.5-245)
					.attr("y",(height+100)/2)
					.attr("fill", "#8098ff")
					.style("font-size",60)
					.style("font-weight",700)
					.on("click",()=>{window.open("https://play.google.com/store/apps/details?id=com.wordele","_self");})
					d=svg.append("text")
					.text("Samsung Galaxy Store")
					.attr("x",width*0.5-305)
					.attr("y",(height+100)/2+150)
					.attr("fill", "#8098ff")
					.style("font-size",60)
					.style("font-weight",700)
					.on("click",()=>{window.open("https://apps.samsung.com/appquery/appDetail.as?appId=com.wordele","_self");})
				}else{

					a=svg.append("text").text("想為Wordele留下好評嗎?")
					.attr("x",width/2-280)
					.attr("y",(height+100)/2-200)
					.attr("fill","black")
					.style("font-size",50)
					.style("font-weight",650);

					b=svg.append("text").text("到Play商店評論")
					.attr("x",width*0.5-210)
					.attr("y",(height+100)/2)
					.attr("fill", "#8098ff")
					.style("font-size",60)
					.style("font-weight",700)
					.on("click",()=>{window.open("https://play.google.com/store/apps/details?id=com.wordele","_self");})
					d=svg.append("text")
					.text("到三星商店評論")
					.attr("x",width*0.5-210)
					.attr("y",(height+100)/2+150)
					.attr("fill", "#8098ff")
					.style("font-size",60)
					.style("font-weight",700)
					.on("click",()=>{window.open("https://apps.samsung.com/appquery/appDetail.as?appId=com.wordele","_self");})
				}

							})



var info=svg.append("text").text("ⓘ").attr("x",width*0.05).attr("y",height*0.075).attr("fill","white").style("font-size",60).style("font-weight",750).on("click",()=>{
if(language==="TW"){
let z=svg.append("rect")
				.attr("x",0)
				.attr("y",0)
				.attr("width",width)
				.attr("height",height+100)
				.attr("fill", "white")
				.attr("fill-opacity",0.9)
let a=svg.append("text").text("遊戲方式").attr("x",width*0.5-130).attr("y",height*0.15-50).attr("fill","black").style("font-size",70).style("font-weight",550);
let b=svg.append("text").text("你必須在六次機會內猜中")
.attr("x",width*0.5-280)
.attr("y",height*0.15+1*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let c=svg.append("text").text("謎底的化合物，文字的背景")
.attr("x",width*0.5-310)
.attr("y",height*0.15+2*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let d=svg.append("text").text("也會隨你猜測的接近程度改變。")
.attr("x",width*0.5-350)
.attr("y",height*0.15+3*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let e=svg.append("text").text("輸入任何化合物即可開始遊戲，例如：")
.attr("x",width*0.5-397)
.attr("y",height*0.15+4*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);

let f=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#dabc49")
.attr("fill-opacity",1)
.style("stroke", "#dabc49")
.style("stroke-width", 5);
let H=svg.append("text").text("H")
.attr("x",width*0.5-415+45).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let g=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let two=svg.append("text").text("2")
.attr("x",width*0.5-415+50+170).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let h=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let S=svg.append("text").text("S")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let i=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let O=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let j=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let four=svg.append("text").text("4")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",60).style("font-weight",600)

let k=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let l=svg.append("text").text("2")
.attr("x",width*0.5-415+35).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",45).style("font-weight",600)
let m=svg.append("rect")
.attr("x",width*0.5-415+110)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let n=svg.append("text").text("S")
.attr("x",width*0.5-415+35+105).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let o=svg.append("rect")
.attr("x",width*0.5-415+110*2)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let p=svg.append("text").text("4")
.attr("x",width*0.5-415+35+110*2).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",45).style("font-weight",600)
let q=svg.append("text").text(": 不在化合物的任一位置")
.attr("x",width*0.5-70).attr("y",height*0.15+4*80-50+320).attr("fill","black")
.style("font-size",45).style("font-weight",600)
let r=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250+110)
.attr("width",100)
.attr("height",100)
.attr("fill","#dabc49")
.attr("fill-opacity",1)
.style("stroke", "#dabc49")
.style("stroke-width",5);
let s=svg.append("text").text("H")
.attr("x",width*0.5-415+27).attr("y",height*0.15+4*80-50+320+110).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let t=svg.append("text").text(": 在化合物內但位置錯誤")
.attr("x",width*0.5-300).attr("y",height*0.15+4*80-50+320+110).attr("fill","black")
.style("font-size",45).style("font-weight",600)
let u=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250+110*2)
.attr("width",100)
.attr("height",100)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width",5);
let v=svg.append("text").text("O")
.attr("x",width*0.5-415+27).attr("y",height*0.15+4*80-50+320+110*2).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let w=svg.append("text").text(": 在化合物內且位置正確")
.attr("x",width*0.5-300).attr("y",height*0.15+4*80-50+320+110*2).attr("fill","black")
.style("font-size",45).style("font-weight",600)
let x=svg.append("text").text("再一次猜測化合物:")
.attr("x",width*0.5-200).attr("y",height*0.15+4*80-50+320+110*2+100).attr("fill","black")
.style("font-size",50).style("font-weight",500)

let y=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let A=svg.append("text").text("Na")
.attr("x",width*0.5-415+25).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let B=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let C=svg.append("text").text("2")
.attr("x",width*0.5-415+50+170).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let D=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let E=svg.append("text").text("C")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let F=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let G=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let J=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let I=svg.append("text").text("3")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",60).style("font-weight",600)

let K=svg.append("text").text("化合物謎底是:")
.attr("x",width*0.5-150).attr("y",height*0.15+4*80-50+320+110*2+100+250).attr("fill","black")
.style("font-size",50).style("font-weight",500)

let L=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let M=svg.append("text").text("Na")
.attr("x",width*0.5-415+25).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let N=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let P=svg.append("text").text("H")
.attr("x",width*0.5-415+45+170).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let Q=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let R=svg.append("text").text("C")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let T=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let U=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let V=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let W=svg.append("text").text("3")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let problem=svg.append("text").text("回報錯誤或提供意見")
.attr("x",width*0.5-400)
.attr("y",height-70)
.attr("fill","#ff9595")
.style("font-size",60)
.style("font-weight",700)
.on("click",()=>{window.open("https://forms.gle/bht9hAtQDz2bUbzeA","_self")})

let ok=svg.append("text").text("了解")
.attr("x",width*0.5+280)
.attr("y",height-70)
.attr("fill","#8098ff")
.style("font-size",60)
.style("font-weight",700)
.on("click",()=>{
    a.remove()
    b.remove()
    c.remove()
    d.remove()
    e.remove()
    f.remove()
    H.remove()
    g.remove()
    two.remove()
    h.remove()
    S.remove()
    i.remove()
    O.remove()
    j.remove()
    k.remove()
    l.remove()
    m.remove()
    n.remove()
    o.remove()
    p.remove()
    q.remove()
    r.remove()
    s.remove()
    t.remove()
    u.remove()
    v.remove()
    w.remove()
    x.remove()
    y.remove()
    A.remove()
    B.remove()
    C.remove()
    D.remove()
    E.remove()
    F.remove()
    G.remove()
    I.remove()
    J.remove()
    K.remove()
    L.remove()
    M.remove()
    N.remove()
    P.remove()
    Q.remove()
    R.remove()
    T.remove()
    U.remove()
    V.remove()
    W.remove()
    four.remove()
    z.attr("x",0)
	.attr("y",height*0.125-50)
	.attr("width",width)
	.attr("height",height+100)
	.attr("fill", "white")
	.attr("fill-opacity",0.9)
	let guide=svg.append("text").text("點擊上方按鈕，以改變")
	.attr("x",0)
	.attr("y",height*0.125+10)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	let guide1=svg.append("text").text("背景、語言等等")
	.attr("x",0)
	.attr("y",height*0.125+60+10)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	let lanbox=svg.append("rect")
	.attr("x",width*0.15)
	.attr("y",height*0.075-60)
	.attr("width",80)
	.attr("height",80)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	let infobox=svg.append("rect")
	.attr("x",width*0.05-5)
	.attr("y",height*0.075-60)
	.attr("width",70)
	.attr("height",70)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	let titlebox=svg.append("rect")
	.attr("x",width*0.5-185)
	.attr("y",height*0.075-70)
	.attr("width",370)
	.attr("height",80)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	let modebox=svg.append("rect")
	.attr("x",width*0.8)
	.attr("y",height*0.075-40)
	.attr("width",100)
	.attr("height",50)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	ok.text("了解")
	.attr("x",width*0.5+280)
	.attr("y",height*0.125+150)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	.on("click",()=>{
		window.location.reload()})
	problem.remove()
    })



}else if(language==="EN"){
let z=svg.append("rect")
				.attr("x",0)
				.attr("y",0)
				.attr("width",width)
				.attr("height",height+100)
				.attr("fill", "white")
				.attr("fill-opacity",0.9)
let a=svg.append("text").text("How to play").attr("x",width*0.5-180).attr("y",height*0.15-50).attr("fill","black").style("font-size",70).style("font-weight",550);
let b=svg.append("text").text("You have to guess the compound in")
.attr("x",width*0.5-420)
.attr("y",height*0.15+1*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let c=svg.append("text").text("6 tries and the color of the letters ")
.attr("x",width*0.5-395)
.attr("y",height*0.15+2*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let d=svg.append("text").text("changes to show how close you are.")
.attr("x",width*0.5-405)
.attr("y",height*0.15+3*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let e=svg.append("text").text("To start, just enter any compound, like:")
.attr("x",width*0.5-450)
.attr("y",height*0.15+4*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);

let f=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#dabc49")
.attr("fill-opacity",1)
.style("stroke", "#dabc49")
.style("stroke-width", 5);
let H=svg.append("text").text("H")
.attr("x",width*0.5-415+45).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let g=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let two=svg.append("text").text("2")
.attr("x",width*0.5-415+50+170).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let h=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let S=svg.append("text").text("S")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let i=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let O=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let j=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let four=svg.append("text").text("4")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",60).style("font-weight",600)

let k=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let l=svg.append("text").text("2")
.attr("x",width*0.5-415+35).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",45).style("font-weight",600)
let m=svg.append("rect")
.attr("x",width*0.5-415+110)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let n=svg.append("text").text("S")
.attr("x",width*0.5-415+35+105).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let o=svg.append("rect")
.attr("x",width*0.5-415+110*2)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let p=svg.append("text").text("4")
.attr("x",width*0.5-415+35+110*2).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",45).style("font-weight",600)
let q=svg.append("text").text(": aren't in the compound")
.attr("x",width*0.5-70).attr("y",height*0.15+4*80-50+320).attr("fill","black")
.style("font-size",45).style("font-weight",600)
let r=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250+110)
.attr("width",100)
.attr("height",100)
.attr("fill","#dabc49")
.attr("fill-opacity",1)
.style("stroke", "#dabc49")
.style("stroke-width",5);
let s=svg.append("text").text("H")
.attr("x",width*0.5-415+27).attr("y",height*0.15+4*80-50+320+110).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let t=svg.append("text").text(": in the compound but in the wrong spot")
.attr("x",width*0.5-300).attr("y",height*0.15+4*80-50+320+110).attr("fill","black")
.style("font-size",42).style("font-weight",600)
let u=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250+110*2)
.attr("width",100)
.attr("height",100)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width",5);
let v=svg.append("text").text("O")
.attr("x",width*0.5-415+27).attr("y",height*0.15+4*80-50+320+110*2).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let w=svg.append("text").text(": in the compound and in the right spot")
.attr("x",width*0.5-300).attr("y",height*0.15+4*80-50+320+110*2).attr("fill","black")
.style("font-size",42).style("font-weight",600)
let x=svg.append("text").text("Another try to guess the compound:")
.attr("x",width*0.5-400).attr("y",height*0.15+4*80-50+320+110*2+100).attr("fill","black")
.style("font-size",50).style("font-weight",500)

let y=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let A=svg.append("text").text("Na")
.attr("x",width*0.5-415+25).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let B=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let C=svg.append("text").text("2")
.attr("x",width*0.5-415+50+170).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let D=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let E=svg.append("text").text("C")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let F=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let G=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let J=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let I=svg.append("text").text("3")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",60).style("font-weight",600)

let K=svg.append("text").text("The hidden compound is:")
.attr("x",width*0.5-280).attr("y",height*0.15+4*80-50+320+110*2+100+250).attr("fill","black")
.style("font-size",50).style("font-weight",500)

let L=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let M=svg.append("text").text("Na")
.attr("x",width*0.5-415+25).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let N=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let P=svg.append("text").text("H")
.attr("x",width*0.5-415+45+170).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let Q=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let R=svg.append("text").text("C")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let T=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let U=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let V=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let W=svg.append("text").text("3")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let problem=svg.append("text").text("report problems")
.attr("x",width*0.5-400)
.attr("y",height-70)
.attr("fill","#ff9595")
.style("font-size",60)
.style("font-weight",700)
.on("click",()=>{window.open("https://forms.gle/bht9hAtQDz2bUbzeA","_self")})

let ok=svg.append("text").text("OK")
.attr("x",width*0.5+280)
.attr("y",height-70)
.attr("fill","#8098ff")
.style("font-size",60)
.style("font-weight",700)
.on("click",()=>{
    a.remove()
    b.remove()
    c.remove()
    d.remove()
    e.remove()
    f.remove()
    H.remove()
    g.remove()
    two.remove()
    h.remove()
    S.remove()
    i.remove()
    O.remove()
    j.remove()
    k.remove()
    l.remove()
    m.remove()
    n.remove()
    o.remove()
    p.remove()
    q.remove()
    r.remove()
    s.remove()
    t.remove()
    u.remove()
    v.remove()
    w.remove()
    x.remove()
    y.remove()
    A.remove()
    B.remove()
    C.remove()
    D.remove()
    E.remove()
    F.remove()
    G.remove()
    I.remove()
    J.remove()
    K.remove()
    L.remove()
    M.remove()
    N.remove()
    P.remove()
    Q.remove()
    R.remove()
    T.remove()
    U.remove()
    V.remove()
    W.remove()
    four.remove()
    z.attr("x",0)
	.attr("y",height*0.125-50)
	.attr("width",width)
	.attr("height",height+100)
	.attr("fill", "white")
	.attr("fill-opacity",0.9)
	let guide=svg.append("text").text("click to change language")
	.attr("x",0)
	.attr("y",height*0.125)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	let guide1=svg.append("text").text(",background,etc.")
	.attr("x",0)
	.attr("y",height*0.125+60)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	let infobox=svg.append("rect")
	.attr("x",width*0.05-5)
	.attr("y",height*0.075-60)
	.attr("width",70)
	.attr("height",70)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	let lanbox=svg.append("rect")
	.attr("x",width*0.15)
	.attr("y",height*0.075-60)
	.attr("width",70)
	.attr("height",80)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	let titlebox=svg.append("rect")
	.attr("x",width*0.5-185)
	.attr("y",height*0.075-70)
	.attr("width",370)
	.attr("height",80)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	let modebox=svg.append("rect")
	.attr("x",width*0.8)
	.attr("y",height*0.075-40)
	.attr("width",100)
	.attr("height",50)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	ok.text("OK")
	.attr("x",width*0.5+280)
	.attr("y",height*0.125+150)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	.on("click",()=>{
		window.location.reload()})
	problem.remove()
    })

				}
})

if(!localStorage.getItem("mode")){
				localStorage.setItem("mode","light")
}
var color=""
if(localStorage.getItem("mode")==="dark"){
				color="white"
				title.attr("fill","white")
				back.attr("fill","black")
				info.attr("fill","white")

}else{
				color="black"
				title.attr("fill","black")
				back.attr("fill","white")
				info.attr("fill","black")

}
var mode=svg.append("text").text(localStorage.getItem("mode")).attr("x",width*0.8).attr("y",height*0.075).attr("fill",color).style("font-size",50).style("font-weight",400).on("click",()=>{
	if(mode.text()==="dark"){			mode.text("light").attr("fill","black")
				color="black"; title.attr("fill","black")
				back.attr("fill","white")
				info.attr("fill","black")

lan.attr("fill","black")
				localStorage.setItem("mode","light")
				window.location.reload();
				}else{
								mode.text("dark").attr("fill","white")
				color="white"; title.attr("fill","white")
				back.attr("fill","black")
				info.attr("fill","white")

	lan.attr("fill","white")
				localStorage.setItem("mode","dark")
				window.location.reload();
				}
})

var lan=svg.append("text").text(localStorage.getItem("language")).attr("x",width*0.15).attr("y",height*0.075).attr("fill",color).style("font-size",50).style("font-weight",400).on("click",()=>{
	if(language==="TW")
	{					localStorage.setItem("language","EN");
window.location.reload();
				}else{
									localStorage.setItem("language","TW");
				window.location.reload();
				}
})

width*=1.06;
var Hb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.04-5)
.attr("y",height*0.82-45)
.attr("fill","#838383")
.attr("width",50)
.attr("height",50)
var H=svg.append("text").text("H").attr("x",width*0.04).attr("y",height*0.82).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("H")
				insert(H)}})
				.on("touchstart",()=>{

				let fill=Hb.attr("fill");	Hb.attr("fill","black")
sleep(100).then(	()=>{	    Hb.attr("fill",fill)})})


var Cb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.12-7)
.attr("y",height*0.82-45)
.attr("fill","#838383")
.attr("width",50)
.attr("height",50)
var C=svg.append("text").text("C").attr("x",width*0.12).attr("y",height*0.82).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("C")
				insert(C)}})
				.on("touchstart",()=>{
				let fill=Cb.attr("fill");	Cb.attr("fill","black")
sleep(100).then(	()=>{	    Cb.attr("fill",fill)})})

var Nb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.2-7)
.attr("y",height*0.82-45)
.attr("fill","#838383")
.attr("width",50)
.attr("height",50)
var N=svg.append("text").text("N").attr("x",width*0.2).attr("y",height*0.82).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("N")
				insert(N)}})
				.on("touchstart",()=>{
				let fill=Nb.attr("fill");	Nb.attr("fill","black")
sleep(100).then(	()=>{	    Nb.attr("fill",fill)})})

var Ob=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.28-7)
.attr("y",height*0.82-45)
.attr("fill","#838383")
.attr("width",50)
.attr("height",50)
var O=svg.append("text").text("O").attr("x",width*0.28).attr("y",height*0.82).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("O")
				insert(O)}})
				.on("touchstart",()=>{
				let fill=Ob.attr("fill");	Ob.attr("fill","black")
sleep(100).then(	()=>{	    Ob.attr("fill",fill)})})

var Nab=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.36-7)
.attr("y",height*0.82-45)
.attr("fill","#838383")
.attr("width",80)
.attr("height",50)
var Na=svg.append("text").text("Na").attr("x",width*0.36).attr("y",height*0.82).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Na")
				insert(Na)}})
				.on("touchstart",()=>{
				let fill=Nab.attr("fill");	Nab.attr("fill","black")
sleep(100).then(	()=>{	    Nab.attr("fill",fill)})})

var Mgb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.48-7)
.attr("y",height*0.82-45)
.attr("fill","#838383")
.attr("width",90)
.attr("height",50)
var Mg=svg.append("text").text("Mg").attr("x",width*0.48).attr("y",height*0.82).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Mg")
				insert(Mg)}})
				.on("touchstart",()=>{
				let fill=Mgb.attr("fill");	Mgb.attr("fill","black")
sleep(100).then(	()=>{	    Mgb.attr("fill",fill)})})

var Alb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.04-5)
.attr("y",height*0.87-45)
.attr("fill","#838383")
.attr("width",65)
.attr("height",50)
var Al=svg.append("text").text("Al").attr("x",width*0.04).attr("y",height*0.87).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Al")
				insert(Al)}})
				.on("touchstart",()=>{
				let fill=Alb.attr("fill");	C
				Alb.attr("fill","black")
sleep(100).then(	()=>{	    Alb.attr("fill",fill)})})

var Sib=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",119)
.attr("y",height*0.87-45)
.attr("fill","#838383")
.attr("width",60)
.attr("height",50)
var Si=svg.append("text").text("Si").attr("x",125).attr("y",height*0.87).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Si")
				insert(Si)}})
				.on("touchstart",()=>{
				let fill=Sib.attr("fill");	Sib.attr("fill","black")
sleep(100).then(	()=>{	    Sib.attr("fill",fill)})})

var Pb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",199)
.attr("y",height*0.87-45)
.attr("fill","#838383")
.attr("width",48)
.attr("height",50)
var P=svg.append("text").text("P").attr("x",205).attr("y",height*0.87).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("P")
				insert(P)}})
				.on("touchstart",()=>{
				let fill=Pb.attr("fill");	Pb.attr("fill","black")
sleep(100).then(	()=>{	    Pb.attr("fill",fill)})})

var Sb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",274)
.attr("y",height*0.87-45)
.attr("fill","#838383")
.attr("width",48)
.attr("height",50)
var S=svg.append("text").text("S").attr("x",280).attr("y",height*0.87).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("S")
				insert(S)}})
				.on("touchstart",()=>{
				let fill=Sb.attr("fill");	Sb.attr("fill","black")
sleep(100).then(	()=>{	    Sb.attr("fill",fill)})})

var Clb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",354)
.attr("y",height*0.87-45)
.attr("fill","#838383")
.attr("width",64)
.attr("height",50)
var Cl=svg.append("text").text("Cl").attr("x",360).attr("y",height*0.87).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Cl")
				insert(Cl)}})
				.on("touchstart",()=>{
				let fill=Clb.attr("fill");	Clb.attr("fill","black")
sleep(100).then(	()=>{	    Clb.attr("fill",fill)})})

var Kb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",444)
.attr("y",height*0.87-45)
.attr("fill","#838383")
.attr("width",48)
.attr("height",50)
var K=svg.append("text").text("K").attr("x",450).attr("y",height*0.87).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("K")
				insert(K)}})
				.on("touchstart",()=>{
				let fill=Kb.attr("fill");	Kb.attr("fill","black")
sleep(100).then(	()=>{	    Kb.attr("fill",fill)})})

var Bab=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",510)
.attr("y",height*0.87-45)
.attr("fill","#838383")
.attr("width",70)
.attr("height",50)
var Ba=svg.append("text").text("Ba").attr("x",516).attr("y",height*0.87).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Ba")
				insert(Ba)}})
				.on("touchstart",()=>{
				let fill=Bab.attr("fill");	Bab.attr("fill","black")
sleep(100).then(	()=>{	    Bab.attr("fill",fill)})})

var Cab=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.04-5)
.attr("y",height*0.92-45)
.attr("fill","#838383")
.attr("width",75)
.attr("height",50)
var Ca=svg.append("text").text("Ca").attr("x",40).attr("y",height*0.92).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Ca")
				insert(Ca)}})
				.on("touchstart",()=>{
				let fill=Cab.attr("fill");	Cab.attr("fill","black")
sleep(100).then(	()=>{	    Cab.attr("fill",fill)})})

var Tib=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",124)
.attr("y",height*0.92-45)
.attr("fill","#838383")
.attr("width",60)
.attr("height",50)
var Ti=svg.append("text").text("Ti").attr("x",130).attr("y",height*0.92).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Ti")
				insert(Ti)}})
				.on("touchstart",()=>{
				let fill=Tib.attr("fill");	Tib.attr("fill","black")
sleep(100).then(	()=>{	    Tib.attr("fill",fill)})})


var Crb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",204)
.attr("y",height*0.92-45)
.attr("fill","#838383")
.attr("width",65)
.attr("height",50)
var Cr=svg.append("text").text("Cr").attr("x",210).attr("y",height*0.92).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Cr")
				insert(Cr)}})
				.on("touchstart",()=>{
				let fill=Crb.attr("fill");	Crb.attr("fill","black")
sleep(100).then(	()=>{	    Crb.attr("fill",fill)})})

var Mnb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",284)
.attr("y",height*0.92-45)
.attr("fill","#838383")
.attr("width",85)
.attr("height",50)
var Mn=svg.append("text").text("Mn").attr("x",290).attr("y",height*0.92).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Mn")
				insert(Mn)}})
				.on("touchstart",()=>{
				let fill=Mnb.attr("fill");	Mnb.attr("fill","black")
sleep(100).then(	()=>{	    Mnb.attr("fill",fill)})})

var Feb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",384)
.attr("y",height*0.92-45)
.attr("fill","#838383")
.attr("width",70)
.attr("height",50)
var Fe=svg.append("text").text("Fe").attr("x",390).attr("y",height*0.92).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Fe")
				insert(Fe)}})
				.on("touchstart",()=>{
				let fill=Feb.attr("fill");	Feb.attr("fill","black")
sleep(100).then(	()=>{	    Feb.attr("fill",fill)})})

var Cub=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",474)
.attr("y",height*0.92-45)
.attr("fill","#838383")
.attr("width",78)
.attr("height",50)
var Cu=svg.append("text").text("Cu").attr("x",480).attr("y",height*0.92).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Cu")
				insert(Cu)}})
				.on("touchstart",()=>{
				let fill=Cub.attr("fill");	Cub.attr("fill","black")
sleep(100).then(	()=>{	    Cub.attr("fill",fill)})})

var Znb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.04-5)
.attr("y",height*0.97-45)
.attr("fill","#838383")
.attr("width",75)
.attr("height",50)
var Zn=svg.append("text").text("Zn").attr("x",40).attr("y",height*0.97).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Zn")
				insert(Zn)}})
				.on("touchstart",()=>{
				let fill=Znb.attr("fill");	Znb.attr("fill","black")
sleep(100).then(	()=>{	    Znb.attr("fill",fill)})})

var Brb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",129)
.attr("y",height*0.97-45)
.attr("fill","#838383")
.attr("width",70)
.attr("height",50)
var Br=svg.append("text").text("Br").attr("x",135).attr("y",height*0.97).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Br")
				insert(Br)}})
				.on("touchstart",()=>{
				let fill=Brb.attr("fill");	Brb.attr("fill","black")
sleep(100).then(	()=>{	    Brb.attr("fill",fill)})})

var Agb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",219)
.attr("y",height*0.97-45)
.attr("fill","#838383")
.attr("width",78)
.attr("height",50)
var Ag=svg.append("text").text("Ag").attr("x",225).attr("y",height*0.97).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Ag")
				insert(Ag)}})
				.on("touchstart",()=>{
				let fill=Agb.attr("fill");	Agb.attr("fill","black")
sleep(100).then(	()=>{	    Agb.attr("fill",fill)})})

var Wb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",319)
.attr("y",height*0.97-45)
.attr("fill","#838383")
.attr("width",60)
.attr("height",50)
var W=svg.append("text").text("W").attr("x",325).attr("y",height*0.97).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("W")
				insert(W)}})
				.on("touchstart",()=>{
				let fill=Wb.attr("fill");	Wb.attr("fill","black")
sleep(100).then(	()=>{	    Wb.attr("fill",fill)})})

var Hgb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",399)
.attr("y",height*0.97-45)
.attr("fill","#838383")
.attr("width",80)
.attr("height",50)
var Hg=svg.append("text").text("Hg").attr("x",405).attr("y",height*0.97).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Hg")
				insert(Hg)}})
				.on("touchstart",()=>{
				let fill=Hgb.attr("fill");	Hgb.attr("fill","black")
sleep(100).then(	()=>{	    Hgb.attr("fill",fill)})})

var Pbb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",494)
.attr("y",height*0.97-45)
.attr("fill","#838383")
.attr("width",80)
.attr("height",50)
var elePb=svg.append("text").text("Pb").attr("x",500).attr("y",height*0.97).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("Pb")
				insert(elePb)}})
				.on("touchstart",()=>{
				let fill=Pbb.attr("fill");	Pbb.attr("fill","black")
sleep(100).then(	()=>{	    Pbb.attr("fill",fill)})})

var sevenb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.65)
.attr("y",height*0.82-45)
.attr("fill","#838383")
.attr("width",40)
.attr("height",50)
var seven=svg.append("text").text("7").attr("x",width*0.655).attr("y",height*0.82).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("7")
				insert(seven)}})
				.on("touchstart",()=>{
				let fill=sevenb.attr("fill");	sevenb.attr("fill","black")
sleep(100).then(	()=>{	    sevenb.attr("fill",fill)})})

var eightb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.75)
.attr("y",height*0.82-45)
.attr("fill","#838383")
.attr("width",40)
.attr("height",50)
var eight=svg.append("text").text("8").attr("x",width*0.755).attr("y",height*0.82).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("8")
				insert(eight)}})
				.on("touchstart",()=>{
				let fill=eightb.attr("fill");	eightb.attr("fill","black")
sleep(100).then(	()=>{	    eightb.attr("fill",fill)})})

var nineb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.855-6)
.attr("y",height*0.82-45)
.attr("fill","#838383")
.attr("width",40)
.attr("height",50)
var nine=svg.append("text").text("9").attr("x",width*0.855).attr("y",height*0.82).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("9")
				insert(nine)}})
				.on("touchstart",()=>{
				let fill=nineb.attr("fill");	nineb.attr("fill","black")
sleep(100).then(	()=>{	    nineb.attr("fill",fill)})})

var fourb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.65)
.attr("y",height*0.87-45)
.attr("fill","#838383")
.attr("width",40)
.attr("height",50)
var four=svg.append("text").text("4").attr("x",width*0.655).attr("y",height*0.87).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("4")
				insert(four)}})
				.on("touchstart",()=>{
				let fill=fourb.attr("fill");	fourb.attr("fill","black")
sleep(100).then(	()=>{	    fourb.attr("fill",fill)})})

var fiveb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.75)
.attr("y",height*0.87-45)
.attr("fill","#838383")
.attr("width",40)
.attr("height",50)
var five=svg.append("text").text("5").attr("x",width*0.755).attr("y",height*0.87).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("5")
				insert(five)}})
				.on("touchstart",()=>{
				let fill=fiveb.attr("fill");	fiveb.attr("fill","black")
sleep(100).then(	()=>{	    fiveb.attr("fill",fill)})})

var sixb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.855-6)
.attr("y",height*0.87-45)
.attr("fill","#838383")
.attr("width",40)
.attr("height",50)
var six=svg.append("text").text("6").attr("x",width*0.855).attr("y",height*0.87).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("6")
				insert(six)}})
				.on("touchstart",()=>{
				let fill=sixb.attr("fill");	sixb.attr("fill","black")
sleep(100).then(	()=>{	    sixb.attr("fill",fill)})})

var oneb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.65)
.attr("y",height*0.92-45)
.attr("fill","#838383")
.attr("width",40)
.attr("height",50)
var one=svg.append("text").text("1").attr("x",width*0.655).attr("y",height*0.92).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("1")
				insert(one)}})
				.on("touchstart",()=>{
				let fill=oneb.attr("fill");	oneb.attr("fill","black")
sleep(100).then(	()=>{	    oneb.attr("fill",fill)})})

var twob=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.75)
.attr("y",height*0.92-45)
.attr("fill","#838383")
.attr("width",40)
.attr("height",50)
var two=svg.append("text").text("2").attr("x",width*0.755).attr("y",height*0.92).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("2")
				insert(two)}})
				.on("touchstart",()=>{
				let fill=twob.attr("fill");	twob.attr("fill","black")
sleep(100).then(	()=>{	    twob.attr("fill",fill)})})

var threeb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.855-6)
.attr("y",height*0.92-45)
.attr("fill","#838383")
.attr("width",40)
.attr("height",50)
var three=svg.append("text").text("3").attr("x",width*0.855).attr("y",height*0.92).attr("fill","white").style("font-size",55).style("font-weight",500).on("click",()=>{if(garr.length<ans.length){garr.push("3")
				insert(three)}})
				.on("touchstart",()=>{
				let fill=threeb.attr("fill");	threeb.attr("fill","black")
sleep(100).then(	()=>{	    threeb.attr("fill",fill)})})

var enterb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.65)
.attr("y",height*0.97-42)
.attr("fill","#838383")
.attr("width",120)
.attr("height",50)
var enter=svg.append("text").text("Enter").attr("x",width*0.655).attr("y",height*0.97).attr("fill","white").style("font-size",45).style("font-weight",500).on("click",guess)
.on("touchstart",()=>{
				let fill=enterb.attr("fill");	enterb.attr("fill","black")
sleep(100).then(	()=>{	    enterb.attr("fill",fill)})})

var delb=svg.append("rect")
.attr("rx",10)
.attr("ry",10)
.attr("x",width*0.82-10)
.attr("y",height*0.97-42)
.attr("fill","#838383")
.attr("width",80)
.attr("height",50)
var del=svg.append("text").text("del").attr("x",width*0.82).attr("y",height*0.97).attr("fill","white").style("font-size",45).style("font-weight",500).on("click",del)
.on("touchstart",()=>{
				let fill=delb.attr("fill");	delb.attr("fill","black")
sleep(100).then(	()=>{	    delb.attr("fill",fill)})})

if(language==="TW"){
		svg.append("rect")
		.attr("x",10)
		.attr("y",height*0.125-50)
		.attr("rx",10)
		.attr("ry",10)
		.attr("width",380)
		.attr("height",60)
		.attr("fill","#838383");
		svg.append("text")
		.text("剩餘遊戲次數:"+Time)
		.attr("x",10)
		.attr("y",height*0.125)
		.attr("fill","white")
		.style("font-size",50)
		.style("font-weight",700);
	}else{
		svg.append("rect")
		.attr("x",10)
		.attr("y",height*0.125-50)
		.attr("rx",10)
		.attr("ry",10)
		.attr("width",300)
		.attr("height",60)
		.attr("fill","#838383");
		svg.append("text")
		.text("times left:"+Time)
		.attr("x",15)
		.attr("y",height*0.125)
		.attr("fill","white")
		.style("font-size",50)
		.style("font-weight",700);
	}
width/=1.06;




				var compounds=["NO","CO2","NO2","HCl","NaOH","Na2O","MgO","CCl4","MgCl2","NaCl","NaHCO3","ZnO","H2O","CaCO3","CaCl2","Al2O3","NH4Cl","H2SO4","MnO2","CH4","C3H8","NaNO3","KNO3","HNO3","KCl","SiO2","SO2","CO","CH3OH","CaO","Na2CO3","HCN","NH3","HCOOH","H2O2","H2CO3","H3PO4","CuSO4","ZnSO4","AgNO3","K2CrO4","CuO","K2O","Na2SO4","NaClO","NH4OH","Fe2O3","WC","AgBr","CaSO4","BaSO4","TiO2","HgO","BaCl2","N2O","KOH","MgSO4","PbO2","PbSO4","SiC","C2H4","H2S","Na2S","KClO3","K2SO4","MgCO3","AgCl","PbCl2","HClO4","HBr"]
function pick(a){
  return Math.floor(Math.random()*a)
}
function sleep (time) {
  return new Promise((resolve) => setTimeout(resolve, time));
}

var compound=compounds[pick(compounds.length)]
var ans=[]
for(let i=0;i<compound.length;i++){
    if(i==compound.length-1){
      ans.push(compound[i])
    }else if(isNaN(compound[i+1])&&compound[i+1].toLowerCase()===compound[i+1]){
      ans.push(compound[i]+compound[i+1])
      i++
    }else{
      ans.push(compound[i])
    }
  }


  /*svg.append("rect")
				.attr("x",width*0.5-5)
				.attr("y",100)
				.attr("width",10)
				.attr("height",1500)
				.attr("fill","red")*/


var times=0
var garr=[]
var x=80,y=height*0.15,sx=80;
if(ans.length===2){
sx=width*0.5-160
x=sx
}else if(ans.length===3){
sx=width*0.5-245
x=sx
}else if(ans.length===4){
sx=width*0.5-330
x=sx
}else{
  sx=width*0.5-415
x=sx
}
for(let r=0;r<6;r++){
for(let c=0;c<ans.length;c++){

				svg.append("rect")
				.attr("x",x)
				.attr("y",y)
				.attr("rx",15)
				.attr("ry",15)
				.attr("width",150)
				.attr("height",150)
				.attr("fill",back.attr("fill"))
				.attr("fill-opacity",1)
				.style("stroke", "#606060")
.style("stroke-width", 5)
				x+=170
}
x=sx
y+=170
}
x=sx
y=height*0.15
function del(){
if(garr.length&&times<6&&go){
  garr.pop()
  x-=170
				svg.append("rect")
				.attr("x",x)
				.attr("y",y)
				.attr("width",150)
				.attr("height",150)
				.attr("fill",back.attr("fill"))
				.attr("fill-opacity",1)
				.style("stroke", "#606060")
.style("stroke-width", 5)
				}

}
var nums=["1","2","3","4","5","6","7","8","9"]
function insert(ele){
if(times<6&&go){
if(nums.includes(ele.text()))	{

svg.append("text").text(ele.text()).attr("x",x+50).attr("y",y+100).attr("fill",color).style("font-size",60).style("font-weight",600)
x+=170
}else if(ele.text().length===1)	{
svg.append("text").text(ele.text()).attr("x",x+45).attr("y",y+100).attr("fill",color).style("font-size",80).style("font-weight",600)
x+=170
}else if(ele.text()==="Mg"||ele.text()==="Mn")	{
svg.append("text").text(ele.text()).attr("x",x+20).attr("y",y+100).attr("fill",color).style("font-size",80).style("font-weight",600)
x+=170
}else{
				svg.append("text").text(ele.text()).attr("x",x+30).attr("y",y+100).attr("fill",color).style("font-size",80).style("font-weight",600)
x+=170
}
}
}
function reshow(ele){
				if(nums.includes(ele))	{
svg.append("text").text(ele).attr("x",x+50).attr("y",y+100).attr("fill","white").style("font-size",60).style("font-weight",600)
x+=170
}else if(ele.length===1)	{
svg.append("text").text(ele).attr("x",x+45).attr("y",y+100).attr("fill","white").style("font-size",80).style("font-weight",600)
x+=170
}else if(ele==="Mg"||ele==="Mn")	{
svg.append("text").text(ele).attr("x",x+20).attr("y",y+100).attr("fill","white").style("font-size",80).style("font-weight",600)
x+=170
}else{
				svg.append("text").text(ele).attr("x",x+30).attr("y",y+100).attr("fill","white").style("font-size",80).style("font-weight",600)
x+=170
}

}
function hint(ele,message){
				//注意綠色不會變黃色
								if(ele==="H"){
					 	Hb.attr("fill",message)
								}else if(ele==="C"){
						 Cb.attr("fill",message)
								}else if(ele==="N"){
						 Nb.attr("fill",message)
								}else if(ele==="O"){
						 Ob.attr("fill",message)
								}else if(ele==="Na"){
						 Nab.attr("fill",message)
								}else if(ele==="Mg"){
						 Mgb.attr("fill",message)
								}else if(ele==="Al"){
						 Alb.attr("fill",message)
								}else if(ele==="Si"){
						 Sib.attr("fill",message)
								}else if(ele==="P"){
						 Pb.attr("fill",message)
								}else if(ele==="S"){
						 Sb.attr("fill",message)
								}else if(ele==="Cl"){
						 Clb.attr("fill",message)
								}else if(ele==="K"){
						 Kb.attr("fill",message)
								}else if(ele==="Ba"){
						 Bab.attr("fill",message)
								}else if(ele==="Ca"){
						 Cab.attr("fill",message)
								}else if(ele==="Ti"){
						 Tib.attr("fill",message)
								}else if(ele==="Cr"){
						 Crb.attr("fill",message)
								}else if(ele==="Mn"){
						 Mnb.attr("fill",message)
								}else if(ele==="Fe"){
						 Feb.attr("fill",message)
								}else if(ele==="Cu"){
						 Cub.attr("fill",message)
								}else if(ele==="Zn"){
						 Znb.attr("fill",message)
								}else if(ele==="Br"){
						 Brb.attr("fill",message)
								}else if(ele==="Ag"){
						 Agb.attr("fill",message)
								}else if(ele==="W"){
						 Wb.attr("fill",message)
								}else if(ele==="Hg"){
						 Hgb.attr("fill",message)
								}else if(ele==="Pb"){
						 Pbb.attr("fill",message)
								}else if(ele==="1"){
						 oneb.attr("fill",message)
								}else if(ele==="2"){
						 twob.attr("fill",message)
								}else if(ele==="3"){
						 threeb.attr("fill",message)
								}else if(ele==="4"){
						 fourb.attr("fill",message)
								}else if(ele==="5"){
						 fiveb.attr("fill",message)
								}else if(ele==="6"){
						 sixb.attr("fill",message)
								}else if(ele==="7"){
						 sevenb.attr("fill",message)
								} else if(ele==="8"){
						 eightb.attr("fill",message)
								}else if(ele==="9"){
						 nineb.attr("fill",message)
								}

}
var green=[]
var yellow=[]
function guess(){
  let guess="";
  if(garr.length!==ans.length){

  if(language==="TW"){
  let tb=svg.append("rect")
.attr("x",width*0.5-155)
.attr("y",height*0.125-50)
.attr("rx",10)
.attr("ry",10)
.attr("width",310)
.attr("height",60)
.attr("fill",title.attr("fill"))
  let m=svg.append("text").text("輸入字數不足").attr("x",width*0.5-150)
  .attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

  m.transition().
delay(2000).style("fill","none")
tb.transition().
delay(2000).style("fill","none")
}else{
let tb=svg.append("rect")
.attr("x",width*0.5-205)
.attr("y",height*0.125-50)
.attr("rx",10)
.attr("ry",10)
.attr("width",423)
.attr("height",60)
.attr("fill",title.attr("fill"))
  let m=svg.append("text").text("not enough letters").attr("x",width*0.5-193)
  .attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

  m.transition().
delay(2000).style("fill","none")
tb.transition().
delay(2000).style("fill","none")
}
  }
  for(let i=0;i<ans.length;i++) {
	guess+=garr[i];
  }

	   if(Time<=0&&garr.length===ans.length&&times<6&&go){
			if(language==="TW"){
				let donate=svg.append("text")
				.text("觀看廣告以再玩三次")
				.attr("x",width/2-230)
				.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
				.attr("fill","#95a2ff")
				.style("font-size",50)
				.style("font-weight",700);
				svg.append('path')
			 .attr('fill','#95a2ff')
			 .attr('d', function(d) {
			 var x = width-30, y = height*0.125;
			 return 'M ' + x +' '+ y + ' l '+10*3+' '+17.32*3+' l '+(-20)*3+' '+ 0 +' z';
			 });
			 svg.append("rect")
			 .attr("x",width-40)
			 .attr("y",height*0.125+50)
			 .attr("width",20)
			 .attr("height",(height*0.15+170*6-10+height*0.82-45)*0.5-height*0.125-30)
			 .attr("fill","#95a2ff")
			}else{
				let donate=svg.append("text")
				.text("watch an ad to play 3 more times")
				.attr("x",width/2-380)
				.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
				.attr("fill","#95a2ff")
				.style("font-size",50)
				.style("font-weight",700);
				 svg.append('path')
				 .attr('fill','#95a2ff')
				 .attr('d', function(d) {
				 var x = width-30, y = height*0.125;
				 return 'M ' + x +' '+ y + ' l '+10*3+' '+17.32*3+' l '+(-20)*3+' '+ 0 +' z';
				 });
				 svg.append("rect")
				 .attr("x",width-40)
				 .attr("y",height*0.125+50)
				 .attr("width",20)
				 .attr("height",(height*0.15+170*6-10+height*0.82-45)*0.5-height*0.125-30)
				 .attr("fill","#95a2ff")
			}
			return;
	   }
 if(parseInt(garr[0])>0&&parseInt(garr[1])<2&&parseInt(garr[2])===parseInt(garr[1])+1&&parseInt(garr[3])===parseInt(garr[0])*3&&parseInt(garr[3])<6){
 let mes=""
 for(let i=0;i<compounds.length;i++){
 				mes+=compounds[i]+"\n";
 }  				alert("有"+compounds.length+"個化合物：\n"+mes)
   }else if(garr.length===ans.length&&times<6&&!compounds.includes(guess)&&go){
  				if(language==="TW")
{
let tb=svg.append("rect")
.attr("x",width*0.5-205)
.attr("y",height*0.125-50)
.attr("rx",10)
.attr("ry",10)
.attr("width",410)
.attr("height",60)
.attr("fill",title.attr("fill"))
let tip=svg.append("text").text("不在化合物列表內").attr("x",width*0.5-200).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

    tip.transition().
delay(2000).style("fill","none")
tb.transition().
delay(2000).style("fill","none")

  				}else{
  								let tb=svg.append("rect")
.attr("x",width*0.5-195)
.attr("y",height*0.125-50)
.attr("rx",10)
.attr("ry",10)
.attr("width",410)
.attr("height",60)
.attr("fill",title.attr("fill"))
let tip=svg.append("text").text("not in answer list").attr("x",width*0.5-190).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

    tip.transition().
delay(2000).style("fill","none")
tb.transition().
delay(2000).style("fill","none")
  				}
  				return 0
  }else if(garr.length===ans.length&&times<6&&go){

  var checklist=[]
  for(let i=0;i<ans.length;i++){
  				checklist[i]=ans[i]
  }
  var ogarr=[]
  for(let i=0;i<garr.length;i++){
  				ogarr[i]=garr[i]
  }
  var message=[]

  for(let i=0;i<ans.length;i++){
     message.push("#484848")
  				if(garr[i]===ans[i]){
  								message[i]="#80db8c"
  								checklist[i]="y"
  								garr[i]='z'
  				}
  }
  for(let i=0;i<ans.length;i++){

  				if(checklist.includes(garr[i])){
  								message[i]="#dabc49"
  								checklist[checklist.indexOf(garr[i])]="y"
  				}
  }

  x=sx
const showans = async () => {
go=0
for(let c=0;c<ans.length;c++){

				svg.append("rect")
				.attr("x",x)
				.attr("y",y)
				.attr("rx",15)
				.attr("ry",15)
				.attr("width",150)
				.attr("height",150)
				.attr("fill", message[c])
				.attr("fill-opacity",1)
				.style("stroke",message[c])
.style("stroke-width", 5)
				reshow(ogarr[c]);
				await sleep(600);
				}

				x=sx
  y+=170
  go=1
  if(guess===compound){
	  if(language==="TW"){
		sleep(2000).then(()=>{
			Time--;
			localStorage.setItem("Time",Time.toString());
			if(Time===0){
				svg.append("rect")
				.attr("x",10)
				.attr("y",height*0.125-50)
				.attr("rx",10)
				.attr("ry",10)
				.attr("width",380)
				.attr("height",60)
				.attr("fill","#838383");
				svg.append("text")
				.text("剩餘遊戲次數:"+Time)
				.attr("x",10)
				.attr("y",height*0.125)
				.attr("fill","white")
				.style("font-size",50)
				.style("font-weight",700);
				let donate=svg.append("text")
				.text("觀看廣告以再玩三次")
				.attr("x",width/2-230)
				.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
				.attr("fill","#95a2ff")
				.style("font-size",50)
				.style("font-weight",700);
				svg.append('path')
			 .attr('fill','#95a2ff')
			 .attr('d', function(d) {
			 var x = width-30, y = height*0.125;
			 return 'M ' + x +' '+ y + ' l '+10*3+' '+17.32*3+' l '+(-20)*3+' '+ 0 +' z';
			 });
			 svg.append("rect")
			 .attr("x",width-40)
			 .attr("y",height*0.125+50)
			 .attr("width",20)
			 .attr("height",(height*0.15+170*6-10+height*0.82-45)*0.5-height*0.125-30)
			 .attr("fill","#95a2ff")
			}else{
				svg.append("rect")
				.attr("x",10)
				.attr("y",height*0.125-50)
				.attr("rx",10)
				.attr("ry",10)
				.attr("width",380)
				.attr("height",60)
				.attr("fill","#838383");
				svg.append("text")
				.text("剩餘遊戲次數:"+Time)
				.attr("x",10)
				.attr("y",height*0.125)
				.attr("fill","white")
				.style("font-size",50)
				.style("font-weight",700);
				if(Time===0){
					svg.append("text")
					.text("觀看廣告以再玩三次")
					.attr("x",width/2-230)
					.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
					.attr("fill","#95a2ff")
					.style("font-size",50)
					.style("font-weight",700);
					svg.append('path')
			 .attr('fill','#95a2ff')
			 .attr('d', function(d) {
			 var x = width-30, y = height*0.125;
			 return 'M ' + x +' '+ y + ' l '+10*3+' '+17.32*3+' l '+(-20)*3+' '+ 0 +' z';
			 });
			 svg.append("rect")
			 .attr("x",width-40)
			 .attr("y",height*0.125+50)
			 .attr("width",20)
			 .attr("height",(height*0.15+170*6-10+height*0.82-45)*0.5-height*0.125-30)
			 .attr("fill","#95a2ff")
				}else{
					svg.append("text")
					.text("向下滑動以再玩一次")
					.attr("x",width/2-230)
					.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
					.attr("fill","#95a2ff")
					.style("font-size",50)
					.style("font-weight",700);

				}
			}
	  	});
	  	switch(times){
  			case 1:
				let tb=svg.append("rect")
				.attr("x",width*0.5-77)
				.attr("y",height*0.125-50)
				.attr("rx",10)
				.attr("ry",10)
				.attr("width",150)
				.attr("height",60)
				.attr("fill",title.attr("fill"));
				let tip=svg.append("text").text("天才！").attr("x",width*0.5-65).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)
   				tip.transition().
				delay(2000).style("fill","none")
				tb.transition().
				delay(2000).style("fill","none");
  				go=0
  				break;
  			case 2:
				let tb2=svg.append("rect")
				.attr("x",width*0.5-95)
				.attr("y",height*0.125-50)
				.attr("rx",10)
				.attr("ry",10)
				.attr("width",185)
				.attr("height",60)
				.attr("fill",title.attr("fill"))
				let tip2=svg.append("text").text("了不起！").attr("x",width*0.5-90).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)
				tip2.transition().
				delay(2000).style("fill","none")
				tb2.transition().
				delay(2000).style("fill","none");
  				go=0;
  				break;
  			case 3: let tb3=svg.append("rect")
				.attr("x",width*0.5-77)
				.attr("y",height*0.125-50)
				.attr("rx",10)
				.attr("ry",10)
				.attr("width",150)
				.attr("height",60)
				.attr("fill",title.attr("fill"))
				let tip3=svg.append("text").text("厲害！").attr("x",width*0.5-65).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)
				tip3.transition()
				.delay(2000).style("fill","none")
				tb3.transition()
				.delay(2000).style("fill","none");
  				go=0
  				break;
  			case 4: let tb4=svg.append("rect")
				.attr("x",width*0.5-77)
				.attr("y",height*0.125-50)
				.attr("rx",10)
				.attr("ry",10)
				.attr("width",150)
				.attr("height",60)
				.attr("fill",title.attr("fill"))
				let tip4=svg.append("text").text("很棒！").attr("x",width*0.5-65).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)
				tip4.transition()
				.delay(2000)
				.style("fill","none")
				tb4.transition()
				.delay(2000)
				.style("fill","none");
  				go=0
  				break;
  			case 5:
  				let tb5=svg.append("rect")
				.attr("x",width*0.5-77)
				.attr("y",height*0.125-50)
				.attr("rx",10)
				.attr("ry",10)
				.attr("width",150)
				.attr("height",60)
				.attr("fill",title.attr("fill"))
				let tip5=svg.append("text")
				.text("不錯！").attr("x",width*0.5-65).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)
				tip5.transition()
				.delay(2000).style("fill","none")
				tb5.transition()
				.delay(2000).style("fill","none");
  				go=0
  				break;
  			default:
  				let tb6=svg.append("rect")
				.attr("x",width*0.5-77)
				.attr("y",height*0.125-50)
				.attr("rx",10)
				.attr("ry",10)
				.attr("width",150)
				.attr("height",60)
				.attr("fill",title.attr("fill"))
				let tip6=svg.append("text").text("好險~").attr("x",width*0.5-65).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)
				tip6.transition()
				.delay(2000).style("fill","none")
				tb6.transition()
				.delay(2000).style("fill","none");
				go=0
				break;
  		}
  	  }else{
		sleep(2000).then(()=>{
			Time--;
			localStorage.setItem("Time",Time.toString());
			svg.append("rect")
			.attr("x",10)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",300)
			.attr("height",60)
			.attr("fill","#838383");
			svg.append("text")
			.text("times left:"+Time)
			.attr("x",15)
			.attr("y",height*0.125)
			.attr("fill","white")
			.style("font-size",50)
			.style("font-weight",700);
			if(Time===0){
				let donate=svg.append("text")
				.text("watch an ad to play 3 more times")
				.attr("x",width/2-380)
				.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
				.attr("fill","#95a2ff")
				.style("font-size",50)
				.style("font-weight",700);
				svg.append('path')
				 .attr('fill','#95a2ff')
				 .attr('d', function(d) {
				 var x = width-30, y = height*0.125;
				 return 'M ' + x +' '+ y + ' l '+10*3+' '+17.32*3+' l '+(-20)*3+' '+ 0 +' z';
				 });
				 svg.append("rect")
				 .attr("x",width-40)
				 .attr("y",height*0.125+50)
				 .attr("width",20)
				 .attr("height",(height*0.15+170*6-10+height*0.82-45)*0.5-height*0.125-30)
				 .attr("fill","#95a2ff")
			}else{
				svg.append("text")
				.text("swipe to play again")
				.attr("x",width/2-220)
				.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
				.attr("fill","#95a2ff")
				.style("font-size",50)
				.style("font-weight",700);

			}
        });
  	    switch(times){
			case 1: let tb1=svg.append("rect")
			.attr("x",width*0.5-90)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",180)
			.attr("height",60)
			.attr("fill",title.attr("fill"))
			let tip1=svg.append("text").text("genius!").attr("x",width*0.5-80).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

			tip1.transition()
			.delay(2000).style("fill","none")
			tb1.transition()
			.delay(2000).style("fill","none");
			go=0
			break;
  	        case 2: let tb2=svg.append("rect")
			.attr("x",width*0.5-150)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",300)
			.attr("height",60)
			.attr("fill",title.attr("fill"))
			let tip2=svg.append("text").text("magnificent!").attr("x",width*0.5-140).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

			tip2.transition()
			.delay(2000).style("fill","none")
			tb2.transition()
			.delay(2000).style("fill","none");
  			go=0
  			break;

  			case 3: let tb3=svg.append("rect")
			.attr("x",width*0.5-140)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",280)
			.attr("height",60)
			.attr("fill",title.attr("fill"))
			let tip3=svg.append("text").text("impressive!").attr("x",width*0.5-130).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

			tip3.transition().
			delay(2000).style("fill","none")
			tb3.transition().
			delay(2000).style("fill","none");
  			go=0
  			break;
  			case 4: let tb4=svg.append("rect")
			.attr("x",width*0.5-110)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",230)
			.attr("height",60)
			.attr("fill",title.attr("fill"))
			let tip4=svg.append("text").text("splendid!").attr("x",width*0.5-100).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

			tip4.transition()
			.delay(2000).style("fill","none")
			tb4.transition()
			.delay(2000).style("fill","none");
  			go=0
  			break;
  			case 5: let tb5=svg.append("rect")
			.attr("x",width*0.5-80)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",160)
			.attr("height",60)
			.attr("fill",title.attr("fill"))
			let tip5=svg.append("text").text("great!").attr("x",width*0.5-65).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

			tip5.transition()
			.delay(2000).style("fill","none")
			tb5.transition()
			.delay(2000).style("fill","none");
  			go=0
  			break;
  			default: let tb6=svg.append("rect")
			.attr("x",width*0.5-80)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",170)
			.attr("height",60)
			.attr("fill",title.attr("fill"))
			let tip6=svg.append("text").text("phew~").attr("x",width*0.5-65).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

			tip6.transition()
			.delay(2000).style("fill","none")
			tb6.transition()
			.delay(2000).style("fill","none");
			go=0
			break;
  		}
  	  }
  }else if(times===6){
  	let tb=svg.append("rect")
	.attr("x",width*0.5-compound.length*15-10)
	.attr("y",height*0.125-50)
	.attr("rx",10)
	.attr("ry",10)
	.attr("width",compound.length*30+30)
	.attr("height",60)
	.attr("fill",title.attr("fill"))
	let tip=svg.append("text").text(compound).attr("x",width*0.5-compound.length*15).attr("y",height*0.125).attr("fill",back.attr("fill")).style("font-size",50).style("font-weight",700)

	tip.transition()
	.delay(3000).style("fill","none")
	tb.transition()
	.delay(3000).style("fill","none");
	Time--;
	localStorage.setItem("Time",Time.toString());
	if(Time===0){

		if(language==="TW"){
			svg.append("rect")
			.attr("x",10)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",380)
			.attr("height",60)
			.attr("fill","#838383");
			svg.append("text")
			.text("剩餘遊戲次數:"+Time)
			.attr("x",10)
			.attr("y",height*0.125)
			.attr("fill","white")
			.style("font-size",50)
			.style("font-weight",700);
			let donate=svg.append("text")
			.text("觀看廣告以再玩三次")
			.attr("x",width/2-230)
			.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
			.attr("fill","#95a2ff")
			.style("font-size",50)
			.style("font-weight",700);
			svg.append('path')
			 .attr('fill','#95a2ff')
			 .attr('d', function(d) {
			 var x = width-30, y = height*0.125;
			 return 'M ' + x +' '+ y + ' l '+10*3+' '+17.32*3+' l '+(-20)*3+' '+ 0 +' z';
			 });
			 svg.append("rect")
			 .attr("x",width-40)
			 .attr("y",height*0.125+50)
			 .attr("width",20)
			 .attr("height",(height*0.15+170*6-10+height*0.82-45)*0.5-height*0.125-30)
			 .attr("fill","#95a2ff")
		}else{
			svg.append("rect")
			.attr("x",10)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",300)
			.attr("height",60)
			.attr("fill","#838383");
			svg.append("text")
			.text("times left:"+Time)
			.attr("x",15)
			.attr("y",height*0.125)
			.attr("fill","white")
			.style("font-size",50)
			.style("font-weight",700);
			let donate=svg.append("text")
			.text("watch an ad to play 3 more times")
			.attr("x",width/2-380)
			.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
			.attr("fill","#95a2ff")
			.style("font-size",50)
			.style("font-weight",700);
			svg.append('path')
				 .attr('fill','#95a2ff')
				 .attr('d', function(d) {
				 var x = width-30, y = height*0.125;
				 return 'M ' + x +' '+ y + ' l '+10*3+' '+17.32*3+' l '+(-20)*3+' '+ 0 +' z';
				 });
				 svg.append("rect")
				 .attr("x",width-40)
				 .attr("y",height*0.125+50)
				 .attr("width",20)
				 .attr("height",(height*0.15+170*6-10+height*0.82-45)*0.5-height*0.125-30)
				 .attr("fill","#95a2ff")
		}
	}else if(language==="TW"){
		sleep(2000).then(()=>{

			svg.append("rect")
			.attr("x",10)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",380)
			.attr("height",60)
			.attr("fill","#838383");
			svg.append("text")
			.text("剩餘遊戲次數:"+Time)
			.attr("x",10)
			.attr("y",height*0.125)
			.attr("fill","white")
			.style("font-size",50)
			.style("font-weight",700);
			svg.append("text")
			.text("向下滑動以再玩一次")
			.attr("x",width/2-230)
			.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
			.attr("fill","#95a2ff")
			.style("font-size",50)
			.style("font-weight",700);

		});
	}else{
		sleep(2000).then(()=>{

			svg.append("rect")
			.attr("x",10)
			.attr("y",height*0.125-50)
			.attr("rx",10)
			.attr("ry",10)
			.attr("width",300)
			.attr("height",60)
			.attr("fill","#838383");
			svg.append("text")
			.text("times left:"+Time)
			.attr("x",15)
			.attr("y",height*0.125)
			.attr("fill","white")
			.style("font-size",50)
			.style("font-weight",700);
	        svg.append("text")
			.text("swipe to play again")
			.attr("x",width/2-220)
			.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
			.attr("fill","#95a2ff")
			.style("font-size",50)
			.style("font-weight",700);
		});
	}
  }
   garr=[]
   for(let c=0;c<ans.length;c++){
				if(message[c]==="#80db8c"&&!green.includes(ogarr[c])){
							green.push(ogarr[c]);	hint(ogarr[c],message[c])
				}
}
for(let c=0;c<ans.length;c++){
				if(message[c]==="#dabc49"&&!green.includes(ogarr[c])&&!yellow.includes(ogarr[c])){

							yellow.push(ogarr[c]);	hint(ogarr[c],message[c])
				}
}
for(let c=0;c<ans.length;c++){
				if(message[c]==="#484848"&&!green.includes(ogarr[c])&&!yellow.includes(ogarr[c])){
								hint(ogarr[c],message[c])
				}
}
				}
				showans();





  times++
  garr=[]


  }

}
if(!localStorage.getItem("language")){
let askback=svg.append("rect")
				.attr("x",0)
				.attr("y",0)
				.attr("width",width)
				.attr("height",height)
				.attr("fill", "white")
				.attr("fill-opacity",0.9)
				let asktitle=svg.append("text")
				.text("choose your language:")
				.attr("x",width*0.5-310)
				.attr("y",height*0.4)
				.attr("fill","black")
				.style("font-size",60)
				.style("font-weight",500)
				let ch=svg.append("text")
				.text("中文")
				.attr("x",width*0.5-66)
				.attr("y",height*0.5)
				.attr("fill","#8098ff")
				.style("font-size",60)
				.style("font-weight",700)
				.on("click",()=>{
				askback.remove();
				asktitle.remove();
				ch.remove();
				eng.remove();
				localStorage.setItem("language","TW")

let z=svg.append("rect")
				.attr("x",0)
				.attr("y",0)
				.attr("width",width)
				.attr("height",height+100)
				.attr("fill", "white")
				.attr("fill-opacity",0.9)
let a=svg.append("text").text("遊戲方式").attr("x",width*0.5-130).attr("y",height*0.15-50).attr("fill","black").style("font-size",70).style("font-weight",550);
let b=svg.append("text").text("你必須在六次機會內猜中")
.attr("x",width*0.5-280)
.attr("y",height*0.15+1*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let c=svg.append("text").text("謎底的化合物，文字的背景")
.attr("x",width*0.5-310)
.attr("y",height*0.15+2*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let d=svg.append("text").text("也會隨你猜測的接近程度改變。")
.attr("x",width*0.5-350)
.attr("y",height*0.15+3*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let e=svg.append("text").text("輸入任何化合物即可開始遊戲，例如：")
.attr("x",width*0.5-397)
.attr("y",height*0.15+4*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);

let f=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#dabc49")
.attr("fill-opacity",1)
.style("stroke", "#dabc49")
.style("stroke-width", 5);
let H=svg.append("text").text("H")
.attr("x",width*0.5-415+45).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let g=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let two=svg.append("text").text("2")
.attr("x",width*0.5-415+50+170).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let h=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let S=svg.append("text").text("S")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let i=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let O=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let j=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let four=svg.append("text").text("4")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",60).style("font-weight",600)

let k=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let l=svg.append("text").text("2")
.attr("x",width*0.5-415+35).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",45).style("font-weight",600)
let m=svg.append("rect")
.attr("x",width*0.5-415+110)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let n=svg.append("text").text("S")
.attr("x",width*0.5-415+35+105).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let o=svg.append("rect")
.attr("x",width*0.5-415+110*2)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let p=svg.append("text").text("4")
.attr("x",width*0.5-415+35+110*2).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",45).style("font-weight",600)
let q=svg.append("text").text(": 不在化合物的任一位置")
.attr("x",width*0.5-70).attr("y",height*0.15+4*80-50+320).attr("fill","black")
.style("font-size",45).style("font-weight",600)
let r=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250+110)
.attr("width",100)
.attr("height",100)
.attr("fill","#dabc49")
.attr("fill-opacity",1)
.style("stroke", "#dabc49")
.style("stroke-width",5);
let s=svg.append("text").text("H")
.attr("x",width*0.5-415+27).attr("y",height*0.15+4*80-50+320+110).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let t=svg.append("text").text(": 在化合物內但位置錯誤")
.attr("x",width*0.5-300).attr("y",height*0.15+4*80-50+320+110).attr("fill","black")
.style("font-size",45).style("font-weight",600)
let u=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250+110*2)
.attr("width",100)
.attr("height",100)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width",5);
let v=svg.append("text").text("O")
.attr("x",width*0.5-415+27).attr("y",height*0.15+4*80-50+320+110*2).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let w=svg.append("text").text(": 在化合物內且位置正確")
.attr("x",width*0.5-300).attr("y",height*0.15+4*80-50+320+110*2).attr("fill","black")
.style("font-size",45).style("font-weight",600)
let x=svg.append("text").text("再一次猜測化合物:")
.attr("x",width*0.5-200).attr("y",height*0.15+4*80-50+320+110*2+100).attr("fill","black")
.style("font-size",50).style("font-weight",500)

let y=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let A=svg.append("text").text("Na")
.attr("x",width*0.5-415+25).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let B=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let C=svg.append("text").text("2")
.attr("x",width*0.5-415+50+170).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let D=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let E=svg.append("text").text("C")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let F=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let G=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let J=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let I=svg.append("text").text("3")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",60).style("font-weight",600)

let K=svg.append("text").text("化合物謎底是:")
.attr("x",width*0.5-150).attr("y",height*0.15+4*80-50+320+110*2+100+250).attr("fill","black")
.style("font-size",50).style("font-weight",500)

let L=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let M=svg.append("text").text("Na")
.attr("x",width*0.5-415+25).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let N=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let P=svg.append("text").text("H")
.attr("x",width*0.5-415+45+170).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let Q=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let R=svg.append("text").text("C")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let T=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let U=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let V=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let W=svg.append("text").text("3")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",60).style("font-weight",600)

let ok=svg.append("text").text("了解")
.attr("x",width*0.5+280)
.attr("y",height-70)
.attr("fill","#8098ff")
.style("font-size",60)
.style("font-weight",700)
.on("click",()=>{
    a.remove()
    b.remove()
    c.remove()
    d.remove()
    e.remove()
    f.remove()
    H.remove()
    g.remove()
    two.remove()
    h.remove()
    S.remove()
    i.remove()
    O.remove()
    j.remove()
    k.remove()
    l.remove()
    m.remove()
    n.remove()
    o.remove()
    p.remove()
    q.remove()
    r.remove()
    s.remove()
    t.remove()
    u.remove()
    v.remove()
    w.remove()
    x.remove()
    y.remove()
    A.remove()
    B.remove()
    C.remove()
    D.remove()
    E.remove()
    F.remove()
    G.remove()
    I.remove()
    J.remove()
    K.remove()
    L.remove()
    M.remove()
    N.remove()
    P.remove()
    Q.remove()
    R.remove()
    T.remove()
    U.remove()
    V.remove()
    W.remove()
    four.remove()
    z.attr("x",0)
	.attr("y",height*0.125-50)
	.attr("width",width)
	.attr("height",height+100)
	.attr("fill", "white")
	.attr("fill-opacity",0.9)
	let guide=svg.append("text").text("點擊上方按鈕，以改變")
	.attr("x",0)
	.attr("y",height*0.125+10)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	let guide1=svg.append("text").text("背景、語言等等")
	.attr("x",0)
	.attr("y",height*0.125+60+10)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	let infobox=svg.append("rect")
	.attr("x",width*0.05-5)
	.attr("y",height*0.075-60)
	.attr("width",70)
	.attr("height",70)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	let titlebox=svg.append("rect")
	.attr("x",width*0.5-185)
	.attr("y",height*0.075-70)
	.attr("width",370)
	.attr("height",80)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	let modebox=svg.append("rect")
	.attr("x",width*0.8)
	.attr("y",height*0.075-40)
	.attr("width",100)
	.attr("height",50)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	ok.text("了解")
	.attr("x",width*0.5+280)
	.attr("y",height*0.125+150)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	.on("click",()=>{
		window.location.reload()})
    })


/*if(language==="EN"){

				localStorage.setItem("played","1")
}*/



localStorage.setItem("played","1");

								});
									let eng=svg.append("text")
				.text("English")
				.attr("x",width*0.5-110)
				.attr("y",height*0.6)
				.attr("fill","#8098ff")
				.style("font-size",60)
				.style("font-weight",700)
				.on("click",()=>{
				localStorage.setItem("language","EN");
				askback.remove();
				asktitle.remove();
				ch.remove();
				eng.remove();
			let z=svg.append("rect")
				.attr("x",0)
				.attr("y",0)
				.attr("width",width)
				.attr("height",height+100)
				.attr("fill", "white")
				.attr("fill-opacity",0.9)
let a=svg.append("text").text("How to play").attr("x",width*0.5-180).attr("y",height*0.15-50).attr("fill","black").style("font-size",70).style("font-weight",550);
let b=svg.append("text").text("You have to guess the compound in")
.attr("x",width*0.5-420)
.attr("y",height*0.15+1*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let c=svg.append("text").text("6 tries and the color of the letters ")
.attr("x",width*0.5-395)
.attr("y",height*0.15+2*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let d=svg.append("text").text("changes to show how close you are.")
.attr("x",width*0.5-405)
.attr("y",height*0.15+3*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);
let e=svg.append("text").text("To start, just enter any compound, like:")
.attr("x",width*0.5-450)
.attr("y",height*0.15+4*80-50)
.attr("fill","black")
.style("font-size",50)
.style("font-weight",500);

let f=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#dabc49")
.attr("fill-opacity",1)
.style("stroke", "#dabc49")
.style("stroke-width", 5);
let H=svg.append("text").text("H")
.attr("x",width*0.5-415+45).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let g=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let two=svg.append("text").text("2")
.attr("x",width*0.5-415+50+170).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let h=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let S=svg.append("text").text("S")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let i=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let O=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let j=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let four=svg.append("text").text("4")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100).attr("fill","white")
.style("font-size",60).style("font-weight",600)

let k=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let l=svg.append("text").text("2")
.attr("x",width*0.5-415+35).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",45).style("font-weight",600)
let m=svg.append("rect")
.attr("x",width*0.5-415+110)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let n=svg.append("text").text("S")
.attr("x",width*0.5-415+35+105).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let o=svg.append("rect")
.attr("x",width*0.5-415+110*2)
.attr("y",height*0.15+4*80-50+250)
.attr("width",100)
.attr("height",100)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let p=svg.append("text").text("4")
.attr("x",width*0.5-415+35+110*2).attr("y",height*0.15+4*80-50+320).attr("fill","white")
.style("font-size",45).style("font-weight",600)
let q=svg.append("text").text(": aren't in the compound")
.attr("x",width*0.5-70).attr("y",height*0.15+4*80-50+320).attr("fill","black")
.style("font-size",45).style("font-weight",600)
let r=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250+110)
.attr("width",100)
.attr("height",100)
.attr("fill","#dabc49")
.attr("fill-opacity",1)
.style("stroke", "#dabc49")
.style("stroke-width",5);
let s=svg.append("text").text("H")
.attr("x",width*0.5-415+27).attr("y",height*0.15+4*80-50+320+110).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let t=svg.append("text").text(": in the compound but in the wrong spot")
.attr("x",width*0.5-300).attr("y",height*0.15+4*80-50+320+110).attr("fill","black")
.style("font-size",42).style("font-weight",600)
let u=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+250+110*2)
.attr("width",100)
.attr("height",100)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width",5);
let v=svg.append("text").text("O")
.attr("x",width*0.5-415+27).attr("y",height*0.15+4*80-50+320+110*2).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let w=svg.append("text").text(": in the compound and in the right spot")
.attr("x",width*0.5-300).attr("y",height*0.15+4*80-50+320+110*2).attr("fill","black")
.style("font-size",42).style("font-weight",600)
let x=svg.append("text").text("Another try to guess the compound:")
.attr("x",width*0.5-400).attr("y",height*0.15+4*80-50+320+110*2+100).attr("fill","black")
.style("font-size",50).style("font-weight",500)

let y=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let A=svg.append("text").text("Na")
.attr("x",width*0.5-415+25).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let B=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#484848")
.attr("fill-opacity",1)
.style("stroke", "#484848")
.style("stroke-width", 5);
let C=svg.append("text").text("2")
.attr("x",width*0.5-415+50+170).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",60).style("font-weight",600)
let D=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let E=svg.append("text").text("C")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let F=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let G=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let J=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50+620)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let I=svg.append("text").text("3")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100+620).attr("fill","white")
.style("font-size",60).style("font-weight",600)

let K=svg.append("text").text("The hidden compound is:")
.attr("x",width*0.5-280).attr("y",height*0.15+4*80-50+320+110*2+100+250).attr("fill","black")
.style("font-size",50).style("font-weight",500)

let L=svg.append("rect")
.attr("x",width*0.5-415)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let M=svg.append("text").text("Na")
.attr("x",width*0.5-415+25).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let N=svg.append("rect")
.attr("x",width*0.5-415+170)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let P=svg.append("text").text("H")
.attr("x",width*0.5-415+45+170).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let Q=svg.append("rect")
.attr("x",width*0.5-415+170*2)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let R=svg.append("text").text("C")
.attr("x",width*0.5-415+50+170*2).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let T=svg.append("rect")
.attr("x",width*0.5-415+170*3)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let U=svg.append("text").text("O")
.attr("x",width*0.5-415+45+170*3).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",80).style("font-weight",600)
let V=svg.append("rect")
.attr("x",width*0.5-415+170*4)
.attr("y",height*0.15+4*80-50+50+620+260)
.attr("width",150)
.attr("height",150)
.attr("fill","#80db8c")
.attr("fill-opacity",1)
.style("stroke", "#80db8c")
.style("stroke-width", 5);
let W=svg.append("text").text("3")
.attr("x",width*0.5-415+50+170*4).attr("y",height*0.15+4*80-50+50+100+620+260).attr("fill","white")
.style("font-size",60).style("font-weight",600)

let ok=svg.append("text").text("OK")
.attr("x",width*0.5+280)
.attr("y",height-70)
.attr("fill","#8098ff")
.style("font-size",60)
.style("font-weight",700)
.on("click",()=>{
    a.remove()
    b.remove()
    c.remove()
    d.remove()
    e.remove()
    f.remove()
    H.remove()
    g.remove()
    two.remove()
    h.remove()
    S.remove()
    i.remove()
    O.remove()
    j.remove()
    k.remove()
    l.remove()
    m.remove()
    n.remove()
    o.remove()
    p.remove()
    q.remove()
    r.remove()
    s.remove()
    t.remove()
    u.remove()
    v.remove()
    w.remove()
    x.remove()
    y.remove()
    A.remove()
    B.remove()
    C.remove()
    D.remove()
    E.remove()
    F.remove()
    G.remove()
    I.remove()
    J.remove()
    K.remove()
    L.remove()
    M.remove()
    N.remove()
    P.remove()
    Q.remove()
    R.remove()
    T.remove()
    U.remove()
    V.remove()
    W.remove()
    four.remove()
    z.attr("x",0)
	.attr("y",height*0.125-50)
	.attr("width",width)
	.attr("height",height+100)
	.attr("fill", "white")
	.attr("fill-opacity",0.9)
	let guide=svg.append("text").text("click to change language")
	.attr("x",0)
	.attr("y",height*0.125)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	let guide1=svg.append("text").text(",background,etc.")
	.attr("x",0)
	.attr("y",height*0.125+60)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	let infobox=svg.append("rect")
	.attr("x",width*0.05-5)
	.attr("y",height*0.075-60)
	.attr("width",70)
	.attr("height",70)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	let titlebox=svg.append("rect")
	.attr("x",width*0.5-185)
	.attr("y",height*0.075-70)
	.attr("width",370)
	.attr("height",80)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	let modebox=svg.append("rect")
	.attr("x",width*0.8)
	.attr("y",height*0.075-40)
	.attr("width",100)
	.attr("height",50)
	.attr("fill","none")
	.attr("fill-opacity",0)
	.style("stroke", "#8098ff")
	.style("stroke-width", 10);
	ok.text("OK")
	.attr("x",width*0.5+280)
	.attr("y",height*0.125+150)
	.attr("fill","#8098ff")
	.style("font-size",60)
	.style("font-weight",700)
	.on("click",()=>{
		window.location.reload()})
    })
    })
								}

function reward(){
	Time+=3;
	localStorage.setItem("Time",Time.toString());
	Time=parseInt(localStorage.getItem("Time"));
	if(language==="TW"){

		svg.append("rect")
		.attr("x",10)
		.attr("y",height*0.125-50)
		.attr("rx",10)
		.attr("ry",10)
		.attr("width",380)
		.attr("height",60)
		.attr("fill","#838383");
		svg.append("text")
		.text("剩餘遊戲次數:"+Time)
		.attr("x",10)
		.attr("y",height*0.125)
		.attr("fill","white")
		.style("font-size",50)
		.style("font-weight",700);
		if(Time===3){
			let donate=svg.append("text")
			.text("觀看廣告以再玩三次")
			.attr("x",width/2-230)
			.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
			.attr("fill",back.attr("fill"))
			.style("font-size",50)
			.style("font-weight",700);
			svg.append('path')
			 .attr('fill','#95a2ff')
			 .attr('d', function(d) {
			 var x = width-30, y = height*0.125;
			 return 'M ' + x +' '+ y + ' l '+10*3+' '+17.32*3+' l '+(-20)*3+' '+ 0 +' z';
			 });
			 svg.append("rect")
			 .attr("x",width-40)
			 .attr("y",height*0.125+50)
			 .attr("width",20)
			 .attr("height",(height*0.15+170*6-10+height*0.82-45)*0.5-height*0.125-30)
			 .attr("fill","#95a2ff")
			if(garr.length===0){
				svg.append("text")
				.text("向下滑動以再玩一次")
				.attr("x",width/2-230)
				.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
				.attr("fill","#95a2ff")
				.style("font-size",50)
				.style("font-weight",700);
			}
			svg.append('path')
			 .attr('fill',back.attr("fill"))
			 .attr('d', function(d) {
			 var x = width-30, y = height*0.125;
			 return 'M ' + x +' '+ y + ' l '+10*3+' '+17.32*3+' l '+(-20)*3+' '+ 0 +' z';
			 });
			 svg.append("rect")
			 .attr("x",width-40)
			 .attr("y",height*0.125+50)
			 .attr("width",20)
			 .attr("height",(height*0.15+170*6-10+height*0.82-45)*0.5-height*0.125-30)
			 .attr("fill",back.attr("fill"))
		}
	}else{
		svg.append("rect")
		.attr("x",10)
		.attr("y",height*0.125-50)
		.attr("rx",10)
		.attr("ry",10)
		.attr("width",300)
		.attr("height",60)
		.attr("fill","#838383");
		svg.append("text")
		.text("times left:"+Time)
		.attr("x",15)
		.attr("y",height*0.125)
		.attr("fill","white")
		.style("font-size",50)
		.style("font-weight",700);
		if(Time===3){
			let donate=svg.append("text")
			.text("watch an ad to play 3 more times")
			.attr("x",width/2-380)
			.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
			.attr("fill",back.attr("fill"))
			.style("font-size",50)
			.style("font-weight",700);
			if(garr.length===0){
				svg.append("text")
				.text("swipe to play again")
				.attr("x",width/2-220)
				.attr("y",(height*0.15+170*6-10+height*0.82-45)*0.5+10)
				.attr("fill","#95a2ff")
				.style("font-size",50)
				.style("font-weight",700);
			}
			svg.append('path')
			 .attr('fill',back.attr("fill"))
			 .attr('d', function(d) {
			 var x = width-30, y = height*0.125;
			 return 'M ' + x +' '+ y + ' l '+10*3+' '+17.32*3+' l '+(-20)*3+' '+ 0 +' z';
			 });
			 svg.append("rect")
			 .attr("x",width-40)
			 .attr("y",height*0.125+50)
			 .attr("width",20)
			 .attr("height",(height*0.15+170*6-10+height*0.82-45)*0.5-height*0.125-30)
			 .attr("fill",back.attr("fill"))

		}

	}

}
function alert(text,x,y,fill,size,weight){
var sp=text.split("\n");
    for(let i=0;i<sp.length;i++){
  svg.append("text")
 .text(sp[i])
 .attr("x",x)
 .attr("y",y)
 .attr("fill",fill)
 .style("font-size",size)
 .style("font-weight",weight)
 y+=size;
 }

}


		
</script>
</body>
</html>
